<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <section id="header_nav">

        <a href="index.html"><img src="img/logo.png" alt=""></a>

        <div>
            <ul id="navbar">
                <li>
                    <a href="index.html">Home</a>
                </li>

                <li class="active-menu">
                    <a class="active" href="shop.html">Shop</a>
                </li>

                <li>
                    <a href="about.html">About</a>
                </li>

                <li>
                    <a href="contact.html">Contact</a>
                </li>
                <li class="icon-cart">
                    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                        viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312" />
                    </svg>

                    <span class="span">0</span>

                </li>
                <a href="" id="cancel"><i class="fas fa-times"></i></a>
            </ul>
        </div>

        <div id="mobile">

            <!-- <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312" />
            </svg> -->

            <i id="bar" class="fas fa-outdent"></i>

        </div>
    </section>

    <section id="prodetails" class="section-p1">
        <div class="single-pro-image">
            <img src="img/products/f1.jpg" alt="" width="100%" id="mainImg">

            <div class="small-img-group">
                <div class="small-img-col">
                    <img src="img/products/f2.jpg" alt="" width="100%" class="small-img">
                </div>
                <div class="small-img-col">
                    <img src="img/products/f3.jpg" alt="" width="100%" class="small-img">
                </div>
                <div class="small-img-col">
                    <img src="img/products/f4.jpg" alt="" width="100%" class="small-img">
                </div>
                <div class="small-img-col">
                    <img src="img/products/f5.jpg" alt="" width="100%" class="small-img">
                </div>
            </div>
        </div>

        <div class="single-pro-details">
            <h6>Home / T-Shirt</h6>
            <h4>Men's Fashion T - Shirts</h4>
            <h2>$139.00</h2>
            <select id="productSize">
                <option>Select Size</option>
                <option>XL</option>
                <option>XXL</option>
                <option>S</option>
                <option>L</option>
                <option>M</option>
            </select>
            <input type="number" value="1" id="productQty">
            <button class="normal" id="addToCartBtn">Add to Cart</button>

            <h4>Product Detail</h4>
            <span>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores numquam ipsum beatae voluptate!
                Labore reprehenderit saepe commodi ratione enim illum omnis earum eius, placeat tempora. Aliquid quasi
                praesentium tempore eveniet!
            </span>

        </div>

    </section>


    <div class="cartTab">
        <h1>Shopping Cart</h1>
        <div class="listCart">

            <div class="item">
                <img src="img/products/f2.jpg" alt="">
                <div class="name">Name</div>
                <div class="totalPrice">ksh. 2000</div>
                <div class="quantity">
                    <span class="minus">
                        -</span>
                    <span>1</span>
                    <span class="plus">+</span>
                </div>
            </div>
        </div>
        <div class="btn">
            <button class="close">CLOSE</button>
            <button class="checkOut" onclick="window.location.href='cart.html'">CHECK OUT</button>
        </div>
    </div>

    <!-- <section id="pagination" class="section-p1">
        <a href="#">1</a>
        <a href="#">2</a>
        <a href="#"><i class="fal fa-long-arrow-alt-right"></i></a>
    </section> -->


    <section id="product1" class="section-p1">
        <h2>Featured Products</h2>
        <p>Summer Collection New Modern Design</p>
        <div class="pro-container">
            <div class="pro">
                <img src="img/products/f1.jpg" alt="">
                <div class="des">
                    <span>addidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <div class="star">
                        <li class="fas fa-star"></li>
                        <li class="fas fa-star"></li>
                        <li class="fas fa-star"></li>
                        <li class="fas fa-star"></li>
                        <li class="fas fa-star"></li>
                    </div>
                    <h4>ksh. 1500</h4>

                </div>
                <a href=""> <i class="fal fa-shopping-cart cart"></i></a>
            </div>
        </div>
    </section>

    <section id="pagination" class="section-p1">
        <a href="#">1</a>
        <a href="#">2</a>
        <a href="#"><i class="fal fa-long-arrow-alt-right"></i></a>
    </section>

    <section id="newsletter" class="section-p1" class="section-m1">
        <div class="banner-section">
            <h3>Sign Up For Newsletters</h3>
            <h4>Get E - mail updates about our latest shops and <span>special offers.</span></h4>
        </div>
        <div class="banner-section2">
            <input type="text" placeholder="Your email address">
            <button>Sign up</button>
        </div>

    </section>


    <footer class="section-p1" class="section-m1">
        <div class="col">
            <img class="logo" src="img/logo.png" alt="">
            <h4>Contact</h4>
            <p><strong>Phone:</strong> +254719510020</p>
            <div class="follow">
                <h4>Follow us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-twitter"></i>
                </div>
            </div>
        </div>

        <div class="col">
            <h4>About</h4>
            <a href="#">About Us</a>
            <a href="#">Delivery Information</a>
            <a href="#">Privacy & Policies</a>
            <a href="#">Terms & Condition</a>
            <a href="#">Contact Us</a>
        </div>

        <div class="col">
            <h4>My Account</h4>
            <a href="#">Sign In</a>
            <a href="#">View Cart</a>
            <a href="#">My Wishlist</a>
            <a href="#">Help</a>
        </div>

        <div class="col">
            <h4>Install App</h4>
            <a href="#">Sign In</a>
            <a href="#">View Cart</a>
            <a href="#">My Wishlist</a>
            <a href="#">Help</a>
        </div>

        <div class="col install">
            <h4>Install App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <img src="img/pay/app.jpg" alt="">
                <img src="img/pay/play.jpg" alt="">
            </div>
            <p>Secure Payment Gateways</p>
            <img src="img/pay/pay.png" alt="">
        </div>
        <div class="copywrite">
            <p>@2025 Body Confidence & Leisure Wear</p>
        </div>
    </footer>


    <script src="test.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let mainImg = document.getElementById('mainImg');
            let smallImg = document.getElementsByClassName('small-img');
            let selectedImage = localStorage.getItem("selectedImage");
            let sproduct = JSON.parse(localStorage.getItem('sproduct')) || [];
            let imgArray = JSON.parse(localStorage.getItem('storedArray')) || [];
            let quickView = document.querySelector('.single-pro-details');
            if (selectedImage && imgArray) {
                mainImg.src = selectedImage;
                console.log("This is the image array", imgArray);

            } else {
                console.error("mainImg element not found in sproduct.html");
            }



            if (imgArray.length > 0) {
                for (let i = 0; i < imgArray.length; i++) {
                    if (imgArray[i]) {
                        smallImg[i].src = imgArray[i];
                        smallImg[i].onclick = function () {
                            mainImg.src = this.src;
                        };
                    }
                }
            }

            const showContent = (sproduct) => {

                quickView.querySelector('h4').textContent = sproduct.description;
                quickView.querySelector('h2').textContent = sproduct.price;



            }

            showContent(sproduct);



            document.getElementById('addToCartBtn').addEventListener('click', () => {
                const selectedSize = document.getElementById('productSize').value;
                const quantity = parseInt(document.getElementById('productQty').value);
                const product = JSON.parse(localStorage.getItem('sproduct'));

                if (!product || !product.id) {
                    alert("Product data missing.");
                    return;
                }

                if (selectedSize === "Select Size") {
                    alert("Please select a size.");
                    return;
                }

                if (quantity <= 0) {
                    alert("Quantity must be at least 1.");
                    return;
                }

                const uniqueCartId = `${product.id}`;
                let carts = JSON.parse(localStorage.getItem("cart")) || [];

                const existingIndex = carts.findIndex(item => item.cartId === uniqueCartId);
                if (existingIndex >= 0) {
                    carts[existingIndex].quantity += quantity;
                    carts[existingIndex].size = selectedSize;
                } else {
                    carts.push({
                        cartId: product.id,
                        quantity: quantity,
                        size: selectedSize
                    });
                }

                localStorage.setItem("cart", JSON.stringify(carts));
                addToCart(product.id);

                alert("Product added to cart!");
            });




        });
    </script>
    <!-- fontawesome CDN -->
    <script src="https://kit.fontawesome.com/58968bf7fb.js" crossorigin="anonymous"></script>
</body>


</html>